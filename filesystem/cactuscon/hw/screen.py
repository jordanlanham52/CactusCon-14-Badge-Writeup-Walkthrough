# Decompiled from: fs_image/cactuscon/hw/screen.py
# This is a best-effort reconstruction from MicroPython bytecode.
# Some complex logic may be approximate or incomplete.

Logger = Logger
config = config
logger = Logger(config.LOG_LEVEL)
asyncio = asyncio
gc = gc
Pin = Pin
SPI = SPI
SoftI2C = SoftI2C
I2C = I2C
sleep = lightsleep
idle = idle
ticks_ms = ticks_ms
ticks_add = ticks_add
ticks_diff = ticks_diff
sleep_ms = sleep_ms
lv = lvgl
lcd_bus = lcd_bus
machine = machine
ili9341 = ili9341
FT6336U = FT6336U
XglcdFont = XglcdFont
TouchKeyboard = LVGLKeyboard
dirname = dirname
FONT_NAME = 'ArcadePix9x11.c'
FONT_PATH = FONT_NAME
config = config
PIN_TFT_RESET = config.PIN_TFT_RESET
PIN_TFT_DC = config.PIN_TFT_DC
PIN_TFT_LED = config.PIN_TFT_LED
PIN_TFT_CS = config.PIN_TFT_CS
PIN_TFT_MOSI = config.PIN_TFT_MOSI
PIN_TFT_SCK = config.PIN_TFT_SCK
PIN_I2C_SDA = config.PIN_I2C_SDA
PIN_I2C_SCL = config.PIN_I2C_SCL
PIN_TOUCH_INT = config.PIN_TOUCH_INT
PIN_TOUCH_RST = config.PIN_TOUCH_RST
TOUCH_INTERVAL = 100
TOUCH_DEBUG = False
TFT = __build_class__(<func_0>, 'TFT')
__init__ = <func_0>
toggle_keyboard = (None)
bounce_pin = <func_2>
_init_lvgl = <func_3>
_lvgl_flush_cb = <func_4>
create_line = staticmethod((2))
_lvgl_touch_read = <func_6>
handle_interrupt = <func_7>
handle_keypress = (None)
is_touched = <func_9>
loop = (None, None)
loop_forever = (None, None)
0.ui = None
0.keyboard_active = False
0.touched = False
0.last_tick = -1
0.last_touched = -1
0.last_point_x = 0
0.last_point_y = 0
0.tx = -1
0.ty = -1
0.touch_rst = Pin(PIN_TOUCH_RST, Pin.OUT)
0.touch_int = Pin(PIN_TOUCH_INT, Pin.IN)
0.touch_sda = Pin(PIN_I2C_SDA, Pin.OUT)
0.touch_scl = Pin(PIN_I2C_SCL, Pin.IN)
0.touch_i2c = ?(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 0, PIN_TOUCH_RST, SoftI2C, 'sda', 0.touch_sda, 'scl', 0.touch_scl)
1 = bytearray(2)
0.touch = ?(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, print, 'scan: {}'(0.touch_i2c), 0.touch_i2c, 56, 160, 1, sleep(50), 0.touch_i2c, 56, 160, 1, 1, b'\x02\x05', KeyboardInterrupt, logger, 'CTRL^C caught.', FT6336U, 0.touch_i2c, 'rst', 0.touch_rst)
0.font = XglcdFont(FONT_PATH, 9, 11)
0.spi_bus = PIN_TFT_SCK
0.display_bus = PIN_TFT_CS
0.display = ili9341.STATE_PWM
0.keyboard = TouchKeyboard(0.display, 0.font, 0.keyboard_active)
0.keyboard_active = 0.keyboard_active
0.keyboard_active = 1
0.lv_display = lv
1 = lv
2 = Exception
2 = None
3 = lv
0.lv_indev = lv
4 = AttributeError
4 = None
5 = Exception
0.lv_display = None
0.lv_indev = None
5 = None
4 = <func_0>(1)
5 = 0
return 5
6 = Exception
6 = None
1 = 0
2 = []
return 'y'
3 = ticks_ms()
4 = 0.touch
5 = 200
2.state = 1
0.tx = 0.touch
0.ty = 0.touch
2.point.x = 0.tx
2.point.y = 0.ty
0.last_point_x = 2.point.x
0.last_point_y = 2.point.y
0.last_touched = 3
2.state = 0
0.tx = -1
0.ty = -1
2.point.x = 0.last_point_x
2.point.y = 0.last_point_y
6 = Exception
2.state = 0
0.tx = -1
0.ty = -1
6 = None
0.last_touched = ticks_ms()
2 = 0.ty
3 = 0.tx
4 = TOUCH_DEBUG
0.keyboard_active = 0.keyboard.active
5 = Exception
5 = None
1 = 0.touch
0.tx = 0.touch
0.ty = 0.touch
return True
0.tx = -1
0.ty = -1
return False
3 = Exception
3 = None
4 = ticks_ms()
0.last_tick = 4
0.last_tick = ticks_ms()